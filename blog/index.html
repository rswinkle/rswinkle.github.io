<!DOCTYPE html>

	<head>
	
<title>Blog | Robert Winkler</title>


	<link rel="stylesheet" type="text/css" href="/css/global.css">
	<meta charset="utf-8" />
	<script type="text/javascript" src="/scripts/changetheme.js"></script>

	</head>


<body>


	<div class="navbar">
		<div class="container flex">
			<div>
			<h1>Robert Winkler</h1>
			<a id="theme" href="#dark" onclick="change('/css/global.css', '/css/dark.css');">Dark Theme</a>
			</div>
			<table>
				<tr>
					<td><a href="/">Home</a></td>
					<td><a href="/blog/">Blog</a></td>
					<td><a href="/projects/">Projects</a></td>
				</tr>
			</table>
		</div>
	</div>


<div class="container">



<div class="row">

<div class="col-9 maincontent">

		<article>

		<h1>
			<a href="emscripten.html">Playing With Emscripten and WebAssembly</a>
		</h1>

		<span class="datentags">
		December 6, 2017
		<span style="float:right;">
		#
				<a href="tag_OpenGL.html"> OpenGL</a>
				<a href="tag_C.html"> C</a>
				<a href="tag_C++.html"> C++</a>
				<a href="tag_Web.html"> Web</a>
		</span>
		</span>

		<p>So a little over a month ago, I thought it would be cool to try out emscripten and
WebAssembly with one of my students.  We had previously done some "hello world"
type graphics programs and a simple game port and I thought it'd be fun to see
how easy (or not) it was to get those to run in the browser.</p>
<p>While I think it was a good exercise, and emscripten is much better than it was a
couple years ago, I don't think it's ready for primetime yet.  You <em>cannot</em> simply
compile your existing graphics/game code and expect it to work.  If you're lucky
you only have to make a few minor changes and with an #ifdef you can use the same
code for your regular executable to.  If you're not, you might have to re-do your
whole program because of the limitations emscripten (which are really the limitations
of the browser/DOM rendering model.  These include turning infinite loops into callback
functions and restricting yourself to OpenGL ES 2/3 which gets translated to WebGL 1/2.</p>
<p>In any case, here are our results:</p>
<ul>
<li><a href="../projects/emscripten/smallest.html">sdl2_template</a></li>
<li><a href="../projects/emscripten/smallest_sdl_gl.html">sdl2_gl_template</a></li>
<li><a href="../projects/emscripten/testing.html">sdl2_interactive</a></li>
</ul>
<p>For some reason we could not get file loading to work and the movement in sdl2_interactive is very
inconsistent for no reason that we could determine.  We originally wanted to port <a href="https://github.com/rswinkle/inventwithpython_pysdl2/blob/master/simulate_pysdl2.py">simulate</a>
which we had previously already ported to C but due to the mainloop callback requirement, it would have required a complete redesign.</p>
<p>Useful links:</p>
<ul>
<li><a href="https://kripken.github.io/emscripten-site/docs/porting/emscripten-runtime-environment.html">Execution Environment</a></li>
<li><a href="https://kripken.github.io/emscripten-site/docs/porting/multimedia_and_graphics/OpenGL-support.html">OpenGL Support</a></li>
<li><a href="https://lyceum-allotments.github.io/2016/06/emscripten-and-sdl-2-tutorial-part-1/">Tutorial</a></li>
</ul>
		</article>
		<br>
		<article>

		<h1>
			<a href="opengl_reference.html">New OpenGL Project: opengl_reference</a>
		</h1>

		<span class="datentags">
		March 7, 2016
		<span style="float:right;">
		#
				<a href="tag_OpenGL.html"> OpenGL</a>
				<a href="tag_C.html"> C</a>
				<a href="tag_C++.html"> C++</a>
		</span>
		</span>

		<p>I've posted a new project, <a href="/projects/opengl_reference.html">opengl_reference</a>.</p>
<p>As it says, it's going to be a growing repo of small to medium OpenGL programs.
Some will be very simple examples, almost tutorial type programs.  Some will
demonstrate 1 or 2 specific features of OpenGL.  Some will show specific aspects/behavior
of OpenGL (like it's left-handed canonical coordinate system or what happens when you draw
lines on the exact edges of the view volume).  Finally, a couple will be template
programs, meant to be copy-pasted to start new projects of a certain type.</p>
<p>In the course of developing these, I'll be building my OpenGL helper libraries
(math, mesh/buffer/texture/shader management etc.) and refining/improving them.  I'll
also be using/learning glm but I prefer using/writing my own for various reasons.</p>
		</article>
		<br>
		<article>

		<h1>
			<a href="invent_with_python_pysdl2.html">New Project</a>
		</h1>

		<span class="datentags">
		February 4, 2016
		<span style="float:right;">
		#
				<a href="tag_python.html"> python</a>
				<a href="tag_pysdl2.html"> pysdl2</a>
		</span>
		</span>

		<p>So I updated my website yesterday(I know it still needs a lot of work I'm not
a web developer) and I added several project pages including a new one.</p>
<p>I've been wanting to learn PySDL2 for a while now and a couple months ago I finally
had the motivation to start.  To learn it I decided to port all the games (and other
programs) from <a href="http://inventwithpython.com/pygame/chapters/">"Making Games with Python &amp; Pygame"</a>
by Al Sweigart.</p>
<p>Al Sweigart, if you haven't heard of him, has 4 python books
and all of them are available for free online along with the source code.
I encourage you to check them out,</p>
<p>I got a little less than half way done before I felt comfortable enough to move on,
starting my own simple games.  Soon after I was on vacation with family for about
10 days during the holidays so by the time I got back it was even less on my mind
and I haven't touched it since.</p>
<p>I've added a README and released what I have to Github/Bitbucket because
I think it'll be useful to people.  I'm thinking about starting a small
crowdfunding campaign, probably on indiegogo, to motivate me to finish
it if there's enough interest.</p>
<p>Anyway the project page is <a href="/projects/invent_with_python.html">here</a> for those
interested.</p>
		</article>
		<br>
		<article>

		<h1>
			<a href="quicksort_runtimes.html">Quicksort Runtimes</a>
		</h1>

		<span class="datentags">
		September 26, 2015
		<span style="float:right;">
		#
				<a href="tag_sorting.html"> sorting</a>
		</span>
		</span>

		<p>So I've resolved once again to try to post to this blog once
a week or so.  Hopefully it'll help motivate me to make more
progress on my programming projects so I'll have something
to say.  In addition, maybe I'll eventually make this site
look like it wasn't built in the 90's.</p>
<p>STATUS UPDATE 2/4/16: epic failure, recommitting.</p>
<p>Anyway, I've been tinkering with my collection of sorting algorithms
and the benchmarking program I wrote for them years ago.  I've
also been looking at how to display the timing results in a pretty
graph.  For now I'm playing with <a href="http://matplotlib.org">matplotlib</a> in python.</p>
<p>On to the coding!  I wanted to see how my algorithms stacked up against
the C stdlib qsort function (and C++'s std::sort but I only made a graph
for C).  Since it uses a C style generic quicksort I decided to write
my own version with the same interface and compare all my quicksort
variations.</p>
<ol>
<li>qsort, standard recursive implementation</li>
<li>qsortlib, C's qsort function</li>
<li>genericqsort, my version of above</li>
<li>iterqsort, iterative version of qsort</li>
<li>qinssort, same as 1 but switches to insertion sort &lt;=25 elements</li>
</ol>
<p><img alt="Quicksort graph" src="./quicksort_times.png"></p>
<p>As you can see, the 3 non-generic implementations 1, 4 and 5 all
perform roughly the same, especially at higher N, while the 2
generic versions are about half as fast due to the extra overhead
involved.  My generic version is a tad slower but I think I'll try
adding insertion sort for smaller groups and see if that makes the
difference.</p>
<p>You can see the code I used <a href="https://github.com/rswinkle/sorting/commit/8c8c1f2d980dfe069b0dcc2350ca0ecb4b0f46ac">here</a>.
I compiled it as is but am only talking about main.c, or benchmark, not cppbenchmark.</p>
<p>Running this from the build directry (after build and running benchmark)
will generate the graph.  I had to expand and save it manually ...
I need to figure out sizing the whole image programmatically.
<code>python3 ../plotbarchart.py</code></p>
		</article>
		<br>
		<article>

		<h1>
			<a href="C_Cpp_mistakes.html">Robert's C/C++ Mistakes</a>
		</h1>

		<span class="datentags">
		November 6, 2009
		<span style="float:right;">
		#
				<a href="tag_C.html"> C</a>
				<a href="tag_C++.html"> C++</a>
		</span>
		</span>

		<p>I know there are a million lists of common programming mistakes (for almost every language) but I thought I'd do one myself.  Hopefully in writing about my most common mistakes I'll quit making them or at least remember to check for them first when my code doesn't work.  So  . . .</p>
<p><strong>1.) <em>Forgetting a semi-colon</em></strong>.</p>
<p>I know it's the most obvious mistake in C/C++.  Whether it's at the end of a class, struct, do-while loop or just a normal statement, I always seem to forget at least one semi-colon the first time I compile something.</p>
<p><strong>2.) <em>Adding a semi-colon to the end of an if statement.</em></strong></p>
<p>I think one time I made this mistake was in my Watering Lawn project.  I think I had the following (lines 100-104 in wateringlawn.cpp):
<pre><code>
if(temp1==temp2);
{
minsprinks=0;
break;
}
</code></pre>
which of course drove me crazy because my program was compiling and I knew I had written it right but it wasn't doing what I wanted.  Weird how your eyes can travel over the same place over and over again and you just get used to the semi-colon and totally ignore it.  Unconsciously you just accept that it should be there.  Fortunately I figured it out without too much head banging.</p>
<p><strong>3.) <em>Putting one equal sign in an if statement.</em></strong></p>
<p>Yes I recently commited this mistake for I think the first time ever.  I was just typing too quickly and without really focusing.  I realize that there may be some edge cases where you might actually want an equal sign in if statement but I can't think of any and I haven't had any so far.</p>
<p><strong>4.) <em>Not looking at the <em>entire</em> line.</em></strong></p>
<p>This is especially annoying if I've spent quite a bit of time staring at the line trying to figure it out after already having spent time isolating which line it is.  I had the following line and of course was getting an error.  Thing is I had already fixed the quotes (double to single) for the '('.  I was so focused and frustrated that the compiler was complaining about something I'd already fixed I didn't notice the ones around the A.
<pre><code>
if(x=='(') mystack.push("A");
</code></pre>
<strong>5.) <em>Using double quotes when I need single quotes.</em></strong></p>
<p>See above.  Sometimes I'm just not paying attention and typing to fast.</p>
<p><strong>6.) <em>Using gcc when I'm coding in C++</em>.</strong></p>
<p>Duh.</p>
<p><strong>7.) <em>Not keep track of exactly where my pointers are pointing</em></strong></p>
<p>(and realizing when things are pointing at the same thing instead of different things passing C strings around etc.)</p>
<p><strong>8.) <em>Not using sizeof when using memory functions in C</em>.</strong></p>
<p>(I know you can leave it out for primitives like char and int but I should just always use it so I won't forget for the complex structures).</p>
<p><strong>9.) <em>Forgetting a break statement.</em></strong></p>
<p><strong>10.) <em>Forgetting to increment a counter</em>.</strong></p>
<p>Or similarly forgetting to set the pointer to the next one while looping through a linked list.</p>
<p>Most of these (especially 7-10) I made while writing <a title="projects" href="http://www.robertwinkler.com/projects.php" target="_self">C PIM</a>.  Hopefully I can use these as a self checklist or something.</p>
<p><strong>EDIT: 11.) <em>Forgetting to close a file stream</em></strong></p>
<p><strong><em><strong>EDIT 2: 12.) Allocating the wrong amount of memory</strong></em></strong></p>
<p><em><em><strong>EDIT 3: 14.) Type problems (wrong conversions, underflow and overflow in </strong><span style="font-weight: 900;">arithmetic both integer and real)</span><strong> </strong></em></em></p>
		</article>
		<br>
		<article>

		<h1>
			<a href="hello_world.html">Hello World!</a>
		</h1>

		<span class="datentags">
		August 25, 2009
		<span style="float:right;">
		#
				<a href="tag_C.html"> C</a>
		</span>
		</span>

		<pre>#include &lt;stdio.h&gt;

int main()
{
      printf("Hello World");
      return 0;
}</pre>
		</article>
		<br>
		<article>

		<h1>
			<a href="Test_Post3.html">Test Post 3</a>
		</h1>

		<span class="datentags">
		August 15, 2009
		<span style="float:right;">
		#
				<a href="tag_untagged.html"> untagged</a>
		</span>
		</span>

		<p>blah blah blah</p>
		</article>
		<br>
		<article>

		<h1>
			<a href="Test_Post2.html">Test Post 2</a>
		</h1>

		<span class="datentags">
		March 10, 2000
		<span style="float:right;">
		#
				<a href="tag_untagged.html"> untagged</a>
		</span>
		</span>

		<p>Testing testing just putting some content here</p>
		</article>
		<br>
		<article>

		<h1>
			<a href="Test_Post.html">Test Post</a>
		</h1>

		<span class="datentags">
		March 6, 2000
		<span style="float:right;">
		#
				<a href="tag_untagged.html"> untagged</a>
		</span>
		</span>

		<p>Testing testing just putting some content here</p>
		</article>
		<br>

</div><div class="col-3 sidebar">
<h2>Recent Posts</h2>
<ul>
	<li><a href="emscripten.html">Playing With Emscripten and WebAssembly</a></li>
	<li><a href="opengl_reference.html">New OpenGL Project: opengl_reference</a></li>
	<li><a href="invent_with_python_pysdl2.html">New Project</a></li>
	<li><a href="quicksort_runtimes.html">Quicksort Runtimes</a></li>
	<li><a href="C_Cpp_mistakes.html">Robert's C/C++ Mistakes</a></li>
	<li><a href="hello_world.html">Hello World!</a></li>
	<li><a href="Test_Post3.html">Test Post 3</a></li>
	<li><a href="Test_Post2.html">Test Post 2</a></li>
	<li><a href="Test_Post.html">Test Post</a></li>
</ul>

<h2>Tags</h2>
<ul>
	<li><a href="/blog/tag_C.html">C</a></li>
	<li><a href="/blog/tag_C++.html">C++</a></li>
	<li><a href="/blog/tag_OpenGL.html">OpenGL</a></li>
	<li><a href="/blog/tag_Web.html">Web</a></li>
	<li><a href="/blog/tag_pysdl2.html">pysdl2</a></li>
	<li><a href="/blog/tag_python.html">python</a></li>
	<li><a href="/blog/tag_sorting.html">sorting</a></li>
	<li><a href="/blog/tag_untagged.html">untagged</a></li>
</ul>




</div>

</div>


</div>


	<div class="footer">
		<div class="container flex">
			<a href="https://github.com/rswinkle">
				<img alt="github" src="/images/icons/github.svg">
			</a>
			<a href="https://www.linkedin.com/in/rswinkle">
				<img alt="linkedin" src="/images/icons/linkedin.svg">
			</a>
			<a href="https://www.google.com/+RobertWinkler25">
				<img alt="google+" src="/images/icons/google+.svg">
			</a>
			<a href="https://www.goodreads.com/user/show/909505-robert">
				<img alt="goodreads" src="/images/icons/goodreads.svg">
			</a>
			<a href="https://twitter.com/robertwinkler9">
				<img alt="twitter" src="/images/icons/twitter.svg">
			</a>
			<a href="https://stackoverflow.com/users/2624136/rswinkle">
				<img alt="stackoverflow" src="/images/icons/stackoverflow.svg">
			</a>
			<a href="http://www.youtube.com/c/RobertWinkler25">
				<img alt="youtube" src="/images/icons/youtube.svg">
			</a>
			<a href="https://www.reddit.com/user/robert_winkler/">
				<img alt="reddit" src="/images/icons/reddit.svg">
			</a>
		</div>
	</div>
	<p class="container" style="font-size:0.75em;color:#b3b3b3;text-align:center;">
		© Robert Winkler, 2010 - 2016. Site design based closely on
		<a href="http://www.michaelfogleman.com/">Michael Fogelman's awesome site</a>.
	</p>


</body>

</html>
